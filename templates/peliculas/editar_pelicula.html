{% extends 'base.html' %}

{% block title %}Editar Película: {{ pelicula.titulo }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Editar Película: {{ pelicula.titulo }}</h2>
    
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="titulo">Título</label>
            <input type="text" class="form-control" id="titulo" name="titulo" value="{{ pelicula.titulo }}" required>
        </div>

        <div class="form-group">
            <label for="descripcion">Descripción</label>
            <textarea class="form-control" id="descripcion" name="descripcion" rows="3" required>{{ pelicula.descripcion }}</textarea>
        </div>

        <div class="form-group">
            <label for="director">Director</label>
            <input type="text" class="form-control" id="director" name="director" value="{{ pelicula.director }}" required>
        </div>

        <div class="form-group">
            <label for="elenco">Elenco</label>
            <input type="text" class="form-control" id="elenco" name="elenco" value="{{ pelicula.elenco }}" required>
        </div>

        <div class="form-group">
            <label for="idiomas">Idiomas</label>
            <input type="text" class="form-control" id="idiomas" name="idiomas" value="{{ pelicula.idiomas }}" required>
        </div>

        <div class="form-group">
            <label for="cartel">Cartel</label>
            <input type="file" class="form-control-file" id="cartel" name="cartel">
            <small class="form-text text-muted">Dejar en blanco si no deseas cambiar el cartel actual.</small>
            {% if pelicula.cartel %}
                <img src="{{ pelicula.cartel.url }}" class="img-fluid mt-2" alt="{{ pelicula.titulo }}">
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
        <a href="{% url 'peliculas:listar_peliculas' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}